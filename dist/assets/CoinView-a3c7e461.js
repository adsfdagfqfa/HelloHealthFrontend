import{_ as B,f as h,E as y,i as b,r as d,o as _,c as w,b as e,w as t,a as l,t as u,F as V,l as R,g as A,h as v,p as I,d as U}from"./index-96eb2e51.js";import{g as L}from"./global-65bc9685.js";import{_ as T}from"./杏仁币-2bdf5899.js";const F="/static/2.png";const S={name:"CoinView",props:["user_id"],data:()=>({BuyNum:h("18"),numbers:["6","18","68","128","268"],CoinRecordList:[],RecordNum:0,CoinNum:0,checkedAgree:h(!1)}),watch:{},methods:{chargeClick(){if(!this.checkedAgree){y.warning("请阅读并同意《杏仁币用户协议》");return}b.post("/api/HB/order",{num:this.BuyNum/10}).then(o=>{console.log(o.data.data.pay_page);let a=window.open("about:blank");a.document.write(o.data.data.pay_page),a.focus()}).catch(o=>{console.log(o),console.log("获取跳转支付网页失败")})},GoUserAgreement(){this.$router.push({name:"UserAgreement"})},goToInfo(){this.$router.push("/user")},getCoinRecord(){b.get("/api/HB/record").then(o=>{this.CoinRecordList=o.data.data.coinRecordList,this.RecordNum=this.CoinRecordList.length,this.CoinNum=o.data.data.coinNum})}},created(){if(!L.login){y.error("请先登录!"),this.$router.push("/login");return}this.getCoinRecord()}},s=o=>(I("data-v-f00ea843"),o=o(),U(),o),E=s(()=>l("img",{alt:"",src:T,style:{height:"50px","margin-top":"10px","margin-left":"24%","margin-right":"5px"}},null,-1)),G=s(()=>l("div",{class:"title"}," 杏仁币详情 ",-1)),D={class:"content-wrapper"},H=s(()=>l("div",{class:"coin-number-title"},"杏仁币余额： ",-1)),M={class:"coin-number"},P=s(()=>l("div",{style:{"font-size":"15px","font-weight":"bold"}},"杏仁币记录",-1)),W=s(()=>l("div",{style:{"font-size":"15px",color:"grey","margin-left":"10px"}}," 您最近一周的变化情况 ",-1)),$=s(()=>l("div",{style:{"font-size":"16px","margin-bottom":"1%","font-weight":"bold"}},"杏仁币介绍",-1)),j=s(()=>l("div",{style:{"font-size":"15px",color:"grey"}}," 杏仁币是本平台中专用的虚拟货币，取自“杏林春暖 ，悬壶济世”之意。 ",-1)),q=s(()=>l("div",{style:{"font-size":"15px",color:"grey"}}," • 用于对优秀帖子进行投币。 ",-1)),J=s(()=>l("div",{style:{"font-size":"15px",color:"grey"}}," • 可以用来悬赏专业医生用户回答专业问题。 ",-1)),K=s(()=>l("div",{style:{"font-size":"16px","margin-top":"5%","margin-bottom":"1%","font-weight":"bold"}},"如何获得杏仁币",-1)),O=s(()=>l("div",{style:{"font-size":"15px",color:"grey"}}," • 每日登录。 ",-1)),Q=s(()=>l("div",{style:{"font-size":"15px",color:"grey"}}," • 发帖被投杏仁币、发帖获得较大浏览量和获得高价值流量认可。 ",-1)),X=s(()=>l("div",{class:"buy-title"},"购买杏仁币 ",-1)),Y=s(()=>l("div",{style:{"font-size":"15px",color:"grey","margin-top":"1%","margin-left":"45px"}}," 购买数量 ",-1)),Z={class:"t1"},ee={class:"t3"},te={class:"card-foot"},oe=s(()=>l("div",{style:{"font-size":"16px","margin-top":"1%"}},"请先阅读并同意支付相关协议",-1)),le=s(()=>l("img",{src:F,style:{width:"90%",height:"90%","margin-top":"6%","margin-left":"4%"}},null,-1));function ne(o,a,se,ae,ie,r){const n=d("el-row"),c=d("el-table-column"),x=d("el-table"),p=d("el-aside"),m=d("el-main"),g=d("el-container"),C=d("el-radio-button"),N=d("el-radio-group"),k=d("el-input-number"),z=d("el-checkbox"),f=d("el-col");return _(),w("div",null,[e(n,{class:"title-wrapper",style:{}},{default:t(()=>[l("button",{link:"",onClick:a[0]||(a[0]=(...i)=>r.goToInfo&&r.goToInfo(...i))},"返回"),E,G]),_:1}),l("div",D,[e(n,{style:{"padding-left":"12px","margin-top":"0px"}},{default:t(()=>[H,l("div",M,u(o.CoinNum),1)]),_:1}),e(g,null,{default:t(()=>[e(p,{class:"left"},{default:t(()=>[e(n,null,{default:t(()=>[P,W]),_:1}),e(x,{data:o.CoinRecordList,"default-sort":{prop:"Time",order:"ascending"},height:"230",style:{width:"100%"},class:"table","empty-text":"您暂时没有杏仁币记录~"},{default:t(()=>[e(c,{prop:"Time",label:"时间",width:"150"}),e(c,{prop:"Num",label:"变化",width:"120"}),e(c,{prop:"Reason",label:"原因",width:"250"})]),_:1},8,["data"])]),_:1}),e(m,{class:"right"},{default:t(()=>[e(n,null,{default:t(()=>[$]),_:1}),e(n,null,{default:t(()=>[j]),_:1}),e(n,null,{default:t(()=>[q]),_:1}),e(n,null,{default:t(()=>[J]),_:1}),e(n,null,{default:t(()=>[K]),_:1}),e(n,null,{default:t(()=>[O]),_:1}),e(n,null,{default:t(()=>[Q]),_:1})]),_:1})]),_:1}),e(n,null,{default:t(()=>[e(f,{span:12},{default:t(()=>[e(n,null,{default:t(()=>[X]),_:1}),e(n,{style:{"padding-left":"14px"}},{default:t(()=>[Y]),_:1}),e(n,{style:{"padding-left":"59px","padding-top":"5px"}},{default:t(()=>[e(N,{modelValue:o.BuyNum,"onUpdate:modelValue":a[1]||(a[1]=i=>o.BuyNum=i),size:"large"},{default:t(()=>[(_(!0),w(V,null,R(o.numbers,i=>(_(),A(C,{key:i,label:i},{default:t(()=>[v(u(i),1)]),_:2},1032,["label"]))),128))]),_:1},8,["modelValue"]),e(k,{modelValue:o.BuyNum,"onUpdate:modelValue":a[2]||(a[2]=i=>o.BuyNum=i),min:1,max:999,size:"large",placeholder:"Please input",style:{"margin-left":"1%"}},null,8,["modelValue"])]),_:1}),e(g,{style:{"padding-left":"4%"}},{default:t(()=>[e(p,{class:"pay-image"}),e(m,null,{default:t(()=>[e(n,null,{default:t(()=>[l("div",{class:"card-item",onClick:a[3]||(a[3]=(...i)=>r.chargeClick&&r.chargeClick(...i))},[l("p",Z,"余额+"+u(o.BuyNum)+"杏仁币",1),l("p",ee,u((o.BuyNum/10).toFixed(2)),1),l("div",te,"￥"+u((o.BuyNum/10).toFixed(2)),1)])]),_:1}),e(n,null,{default:t(()=>[oe]),_:1}),e(n,null,{default:t(()=>[e(z,{modelValue:o.checkedAgree,"onUpdate:modelValue":a[4]||(a[4]=i=>o.checkedAgree=i),size:"large",style:{"margin-top":"2.8%"}},{default:t(()=>[v(" 我已阅读并同意 ")]),_:1},8,["modelValue"]),l("a",{onClick:a[5]||(a[5]=(...i)=>r.GoUserAgreement&&r.GoUserAgreement(...i)),style:{"font-size":"14px","margin-top":"5.5%","text-decoration":"underline"}},"《杏仁币用户协议》")]),_:1})]),_:1})]),_:1})]),_:1}),e(f,{span:12},{default:t(()=>[le]),_:1})]),_:1})])])}const ce=B(S,[["render",ne],["__scopeId","data-v-f00ea843"]]);export{ce as default};
