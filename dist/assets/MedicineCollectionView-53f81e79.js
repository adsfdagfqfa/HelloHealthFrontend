import{B as V}from"./BackButton-ab4a2694.js";import{_ as k,f as p,W as w,i as D,r as u,o as b,c as h,a as i,b as e,w as t,F as C,l as B,h as a,B as M,t as _,k as T,p as F,d as I}from"./index-96eb2e51.js";import{_ as S}from"./thinking-a813cde7.js";const E=p(0),K=p(0),U=p(0),N=p(0),j=p(0),z={name:"MedicineCollectionView",components:{WebLoading:w,BackButton:V},data(){return{category:E,brand:K,form:U,insurance:N,recipe:j,search_value:"",constData:[],tableData:[],medicine:[{id:"medicine_id",label:"批准文号",content:null,span:1},{id:"medicine_ch_name",label:"中文名称",content:null,span:1},{id:"medicine_en_name",label:"英文名称",content:null,span:1},{id:"medicine_category",label:"分类",content:null,span:1},{id:"medicine_abbreviation",label:"简称",content:null,span:1},{id:"medicine_introduction",label:"简介",content:null,span:1},{id:"medicine_country",label:"来源",content:null,span:1},{id:"medicine_manufacturer",label:"生产厂商",content:null,span:1},{id:"medicine_form",label:"剂型",content:null,span:1},{id:"medicine_character",label:"药品性状",content:null,span:1},{id:"medicine_ingredient",label:"药品成分",content:null,span:1},{id:"medicine_validityperiod",label:"有效期",content:null,span:1},{id:"medicine_usage",label:"用法",content:null,span:1},{id:"medicine_indications",label:"适应症",content:null,span:1},{id:"medicine_taboo",label:"禁忌",content:null,span:1},{id:"medicine_storage",label:"贮藏方法",content:null,span:1},{id:"is_prescription_medicine",label:"是否为处方药",content:null,span:1},{id:"is_medical_insurance_medicine",label:"是否为医保药",content:null,span:1},{id:"medicine_image",label:"图片",content:null,span:1},{id:"medicine_reference_quote",label:"参考报价",content:null,span:1}]}},created(){D.get("/api/Medicine/collectionList").then(n=>{n.data.errorCode===200?(this.tableData=n.data.data.medicine_list,this.constData=n.data.data.medicine_list):console.error("Error fetching medicine data:",n.data.errorCode)}).catch(n=>{console.error(n)})},methods:{handleEnterKey(){console.log("Enter key pressed"),this.medicineSearch()},medicineSearch(){if(console.log("Filtered Table Data:",this.tableData),this.tableData){const n=this.constData.filter(l=>this.search_value!==""?!!l.medicine_ch_name.includes(this.search_value):!0);console.log("Filtered Data:",n),this.tableData=n}return[]},BriefCardClicked(n){const l=n.medicine_id;this.$router.push(`/medicineCard?medicine_id=${l}`)}},computed:{filteredTableData(){return this.tableData?this.tableData.filter(l=>{if(this.category!==0)switch(this.category){case 1:if(l.medicine_category!=="西药")return!1;break;case 2:if(l.medicine_category!=="中药")return!1;break;case 3:if(l.medicine_category!=="保健品")return!1;break}if(this.form!==0)switch(this.form){case 1:if(l.medicine_form!=="注射剂")return!1;break;case 2:if(l.medicine_form!=="口服液体剂型")return!1;break;case 3:if(l.medicine_form!=="胶囊剂")return!1;break;case 4:if(l.medicine_form!=="片剂")return!1;break;case 5:if(l.medicine_form!=="颗粒剂")return!1;break;case 6:if(l.medicine_form!=="软膏剂")return!1;break}return!(this.insurance!==0&&l.is_medical_insurance_medicine!==(this.insurance===1?"是":"否")||this.recipe!==0&&l.is_prescription_medicine!==(this.recipe===1?"是":"否"))}):[]}},watch:{search_value:{handler:"search",immediate:!0}}},m=n=>(F("data-v-e043a129"),n=n(),I(),n),L={class:"Medicine-Collection"},W={class:"FM_body"},q=m(()=>i("div",{class:"viewTitle tracking-in-expand",style:{"padding-top":"3px"}},"药品收藏",-1)),A={class:"filter-drug-box"},G=m(()=>i("svg",{t:"1688614393322",class:"icon",viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"2387",width:"32",height:"32"},[i("path",{d:"M512 85.333c23.573 0 42.667 20.118 42.667 44.907v763.52c0 24.79-19.094 44.907-42.667 44.907s-42.667-20.118-42.667-44.907V130.24c0-24.79 19.094-44.907 42.667-44.907z","p-id":"2388",fill:"#6cb16a"})],-1)),H=m(()=>i("div",{style:{"padding-top":"3px"}},"找药结果",-1)),J={key:0,class:"tips"},O=m(()=>i("img",{class:"sadImg jello-horizontal",style:{height:"256px"},alt:"",src:S},null,-1)),P=m(()=>i("div",{class:"sadTip jello-horizontal"},"暂时还没有收藏的药品哦~快去浏览吧！",-1)),Q=[O,P],R={class:"card-container"},X=["onClick"],Y={class:"medicine-image"},Z=["src"],$={class:"card__content"},ee={class:"medicine_name"},te={class:"medicine_description"},le={class:"medicine_description"},ae={class:"medicine_description"},ie={class:"medicine_description"},ne={class:"medicine_description"};function se(n,l,oe,ce,d,g){const r=u("el-row"),c=u("el-col"),o=u("el-radio"),f=u("el-radio-group"),x=u("el-card"),v=u("el-input");return b(),h("div",L,[i("div",W,[e(r,{class:"FM_title"},{default:t(()=>[q]),_:1}),i("div",A,[e(x,{class:"box-card"},{default:t(()=>[e(r,null,{default:t(()=>[e(c,{span:2,class:"text item"},{default:t(()=>[a("分类：")]),_:1}),e(c,{span:22,class:"text select-item"},{default:t(()=>[e(f,{modelValue:d.category,"onUpdate:modelValue":l[0]||(l[0]=s=>d.category=s)},{default:t(()=>[e(o,{label:0,class:"option-box"},{default:t(()=>[a("全部")]),_:1}),e(o,{label:1,class:"option-box"},{default:t(()=>[a("西药")]),_:1}),e(o,{label:2,class:"option-box"},{default:t(()=>[a("中药")]),_:1}),e(o,{label:3,class:"option-box"},{default:t(()=>[a("保健品")]),_:1})]),_:1},8,["modelValue"])]),_:1})]),_:1}),e(r,null,{default:t(()=>[e(c,{span:2,class:"text item"},{default:t(()=>[a("剂型：")]),_:1}),e(c,{span:22,class:"text select-item"},{default:t(()=>[e(f,{modelValue:d.form,"onUpdate:modelValue":l[1]||(l[1]=s=>d.form=s)},{default:t(()=>[e(o,{label:0,class:"option-box"},{default:t(()=>[a("全部")]),_:1}),e(o,{label:1,class:"option-box"},{default:t(()=>[a("注射剂")]),_:1}),e(o,{label:2,class:"option-box"},{default:t(()=>[a("口服液体剂型")]),_:1}),e(o,{label:3,class:"option-box"},{default:t(()=>[a("胶囊剂")]),_:1}),e(o,{label:4,class:"option-box"},{default:t(()=>[a("片剂")]),_:1}),e(o,{label:5,class:"option-box"},{default:t(()=>[a("颗粒剂")]),_:1}),e(o,{label:6,class:"option-box"},{default:t(()=>[a("软膏剂")]),_:1})]),_:1},8,["modelValue"])]),_:1})]),_:1}),e(r,null,{default:t(()=>[e(c,{span:2,class:"text item"},{default:t(()=>[a("医保药物：")]),_:1}),e(c,{span:22,class:"text select-item"},{default:t(()=>[e(f,{modelValue:d.insurance,"onUpdate:modelValue":l[2]||(l[2]=s=>d.insurance=s)},{default:t(()=>[e(o,{label:0,class:"option-box"},{default:t(()=>[a("全部")]),_:1}),e(o,{label:1,class:"option-box"},{default:t(()=>[a("医保药物")]),_:1}),e(o,{label:2,class:"option-box"},{default:t(()=>[a("非医保药物")]),_:1})]),_:1},8,["modelValue"])]),_:1})]),_:1}),e(r,null,{default:t(()=>[e(c,{span:2,class:"text item"},{default:t(()=>[a("处方药物：")]),_:1}),e(c,{span:22,class:"text select-item"},{default:t(()=>[e(f,{modelValue:d.recipe,"onUpdate:modelValue":l[3]||(l[3]=s=>d.recipe=s)},{default:t(()=>[e(o,{label:0,class:"option-box"},{default:t(()=>[a("全部")]),_:1}),e(o,{label:1,class:"option-box"},{default:t(()=>[a("处方药物")]),_:1}),e(o,{label:2,class:"option-box"},{default:t(()=>[a("非处方药物")]),_:1})]),_:1},8,["modelValue"])]),_:1})]),_:1})]),_:1})]),e(r,null,{default:t(()=>[e(c,{span:18},{default:t(()=>[e(r,{class:"FM_r_title"},{default:t(()=>[G,H]),_:1}),e(r,{class:"result_title"},{default:t(()=>[e(c,null,{default:t(()=>[e(v,{class:"search-box",modelValue:d.search_value,"onUpdate:modelValue":l[4]||(l[4]=s=>d.search_value=s),clearable:"",onKeyup:M(g.handleEnterKey,["enter","native"]),placeholder:"请输入药品中文名称","prefix-icon":n.Search},null,8,["modelValue","onKeyup","prefix-icon"])]),_:1}),e(c,{style:{"padding-top":"5px"}},{default:t(()=>[i("div",null,"收藏共"+_(this.filteredTableData.length)+"条",1),this.filteredTableData.length===0?(b(),h("div",J,Q)):T("",!0)]),_:1})]),_:1})]),_:1})]),_:1})]),i("div",R,[(b(!0),h(C,null,B(g.filteredTableData,(s,y)=>(b(),h("div",{class:"card",key:y,onClick:de=>g.BriefCardClicked(s)},[i("div",Y,[i("img",{src:s.medicine_image,style:{width:"100%",height:"100%","objec-fit":"cover"},alt:"Medicine Image"},null,8,Z)]),i("div",$,[i("p",ee,_(s.medicine_ch_name),1),i("p",te,"分类："+_(s.medicine_category),1),i("p",le,"剂型："+_(s.medicine_form),1),i("p",ae,"适应症："+_(s.medicine_indications),1),i("p",ie,"简介："+_(s.medicine_introduction||"暂无"),1),i("p",ne,"我的备注："+_(s.collect_memory||"无"),1)])],8,X))),128))])])}const pe=k(z,[["render",se],["__scopeId","data-v-e043a129"]]);export{pe as default};
