import{_ as S}from"./thinking-a813cde7.js";import{_ as j,f as d,m as I,E as v,j as V,r as n,o as i,c as f,a as e,b as c,w as l,s as h,i as y,k as L,F as H,l as N,g as F,t as D,p as q,d as U}from"./index-96eb2e51.js";import{g as Y}from"./global-65bc9685.js";/*! Element Plus v2.3.7 */var $={name:"zh-cn",el:{colorpicker:{confirm:"确定",clear:"清空"},datepicker:{now:"此刻",today:"今天",cancel:"取消",clear:"清空",confirm:"确定",selectDate:"选择日期",selectTime:"选择时间",startDate:"开始日期",startTime:"开始时间",endDate:"结束日期",endTime:"结束时间",prevYear:"前一年",nextYear:"后一年",prevMonth:"上个月",nextMonth:"下个月",year:"年",month1:"1 月",month2:"2 月",month3:"3 月",month4:"4 月",month5:"5 月",month6:"6 月",month7:"7 月",month8:"8 月",month9:"9 月",month10:"10 月",month11:"11 月",month12:"12 月",weeks:{sun:"日",mon:"一",tue:"二",wed:"三",thu:"四",fri:"五",sat:"六"},months:{jan:"一月",feb:"二月",mar:"三月",apr:"四月",may:"五月",jun:"六月",jul:"七月",aug:"八月",sep:"九月",oct:"十月",nov:"十一月",dec:"十二月"}},select:{loading:"加载中",noMatch:"无匹配数据",noData:"无数据",placeholder:"请选择"},cascader:{noMatch:"无匹配数据",loading:"加载中",placeholder:"请选择",noData:"暂无数据"},pagination:{goto:"前往",pagesize:"条/页",total:"共 {total} 条",pageClassifier:"页",page:"页",prev:"上一页",next:"下一页",currentPage:"第 {pager} 页",prevPages:"向前 {pager} 页",nextPages:"向后 {pager} 页",deprecationWarning:"你使用了一些已被废弃的用法，请参考 el-pagination 的官方文档"},messagebox:{title:"提示",confirm:"确定",cancel:"取消",error:"输入的数据不合法!"},upload:{deleteTip:"按 delete 键可删除",delete:"删除",preview:"查看图片",continue:"继续上传"},table:{emptyText:"暂无数据",confirmFilter:"筛选",resetFilter:"重置",clearFilter:"全部",sumText:"合计"},tree:{emptyText:"暂无数据"},transfer:{noMatch:"无匹配数据",noData:"无数据",titles:["列表 1","列表 2"],filterPlaceholder:"请输入搜索内容",noCheckedFormat:"共 {total} 项",hasCheckedFormat:"已选 {checked}/{total} 项"},image:{error:"加载失败"},pageHeader:{title:"返回"},popconfirm:{confirmButtonText:"确定",cancelButtonText:"取消"}}};const p=_=>(q("data-v-4e29b307"),_=_(),U(),_),W={class:"postCollection"},G={class:"body"},J=p(()=>e("div",{class:"viewTitle tracking-in-expand",style:{"padding-top":"3px"}},"帖子收藏",-1)),K={key:0,class:"tips"},O=p(()=>e("img",{class:"sadImg jello-horizontal",style:{height:"256px"},alt:"",src:S},null,-1)),Q=p(()=>e("div",{class:"sadTip jello-horizontal"},"暂时还没有收藏的帖子哦~快去浏览吧！",-1)),R=[O,Q],X={class:"postList"},Z={style:{display:"flex","flex-direction":"row"}},ee=["href"],ue=["src"],te={style:{"flex-grow":"1"}},oe={style:{display:"flex","flex-direction":"column"}},ae={style:{display:"inline-block"}},le=["href"],se={style:{display:"flex","flex-direction":"row"}},ne={class:"postAuthor"},ie={class:"postUpdateTime"},ce=p(()=>e("svg",{t:"1690052159982",class:"icon",viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"14050",width:"200",height:"200"},[e("path",{d:"M512 768l-249.941333 131.413333a28.444444 28.444444 0 0 1-41.244445-30.008889l47.701334-278.300444-202.183112-197.091556a28.444444 28.444444 0 0 1 15.758223-48.526222l279.438222-40.590222 124.956444-253.212444a28.444444 28.444444 0 0 1 51.029334 0l124.956444 253.212444 279.438222 40.590222a28.444444 28.444444 0 0 1 15.758223 48.526222l-202.183112 197.12 47.729778 278.272a28.444444 28.444444 0 0 1-41.272889 29.980445L512 768z",fill:"#A0A0A0","p-id":"14051"}),e("path",{d:"M512 768l-249.941333 131.413333a28.444444 28.444444 0 0 1-41.244445-30.008889l47.701334-278.300444c36.124444-190.805333 67.128889-286.208 93.013333-286.208 38.826667 0 393.955556 261.774222 393.955555 286.208 0 16.298667-81.180444 75.264-243.484444 176.896z",fill:"#A0A0A0","p-id":"14052"})],-1)),re=p(()=>e("svg",{t:"1690052159982",class:"icon",viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"14050",width:"200",height:"200"},[e("path",{d:"M512 768l-249.941333 131.413333a28.444444 28.444444 0 0 1-41.244445-30.008889l47.701334-278.300444-202.183112-197.091556a28.444444 28.444444 0 0 1 15.758223-48.526222l279.438222-40.590222 124.956444-253.212444a28.444444 28.444444 0 0 1 51.029334 0l124.956444 253.212444 279.438222 40.590222a28.444444 28.444444 0 0 1 15.758223 48.526222l-202.183112 197.12 47.729778 278.272a28.444444 28.444444 0 0 1-41.272889 29.980445L512 768z",fill:"#FFC500","p-id":"14051"}),e("path",{d:"M512 768l-249.941333 131.413333a28.444444 28.444444 0 0 1-41.244445-30.008889l47.701334-278.300444c36.124444-190.805333 67.128889-286.208 93.013333-286.208 38.826667 0 393.955556 261.774222 393.955555 286.208 0 16.298667-81.180444 75.264-243.484444 176.896z",fill:"#FED902","p-id":"14052"})],-1)),de={class:"pagination"},pe={__name:"PostCollectionView",setup(_){const A=$,r=d([]),s=d([]);let E=d(1),g=d(10),C=d(0);const k=u=>{g.value=u,m()},z=u=>{E.value=u,m()};function m(){const u={currentPage:E.value,pageSize:g.value};y.post("/api/Forum/PostCollection",u).then(a=>{r.value=a.json.list,C.value=parseInt(a.json.total),s.value=[];for(let t=0;t<r.value.length;t++)s.value[r.value[t].id]=!1}).catch(a=>{a.network||a.defaultHandler("加载收藏帖失败")})}function B(u){s.value[u]=!s.value[u];const a={operate:1,post_id:u};y.post("/api/Forum/Star",a).then(t=>{s.value[u]?v({showClose:!0,message:"取消收藏成功！",type:"success"}):v({showClose:!0,message:"收藏成功！",type:"success"})}).catch(t=>{t.network||t.defaultHandler(s.value[u]?"取消收藏失败":"收藏失败")})}return I(()=>{if(!Y.login){v.error("请先登录!"),V.push("/login");return}m()}),(u,a)=>{const t=n("el-row"),x=n("el-col"),w=n("el-icon"),T=n("el-card"),P=n("el-pagination"),b=n("el-config-provider");return i(),f("div",W,[e("div",G,[c(t,{class:"title"},{default:l(()=>[J]),_:1}),c(x,{class:"result_title",style:{"padding-top":"5px"}},{default:l(()=>[r.value.length===0?(i(),f("div",K,R)):L("",!0)]),_:1}),e("div",X,[c(t,{gutter:20},{default:l(()=>[(i(!0),f(H,null,N(r.value,o=>(i(),F(x,{span:12,key:o.id,style:{"margin-bottom":"20px"}},{default:l(()=>[c(T,{class:"card",shadow:"never","body-style":{padding:"0px"}},{default:l(()=>[e("div",Z,[e("div",null,[e("a",{href:"/forum/"+o.id},[e("img",{src:o.imgUrl,class:"image",title:"",alt:""},null,8,ue)],8,ee)]),e("div",te,[e("div",oe,[e("div",ae,[e("a",{class:"postTitle",href:"/forum/"+o.id},D(o.title),9,le)]),e("div",se,[e("div",null,[e("div",ne,D(o.author),1)]),e("div",null,[e("div",ie,D(o.updateTime),1)])])])]),e("div",null,[s.value[o.id]?(i(),F(w,{key:0,class:"cancelButton",onClick:M=>B(o.id)},{default:l(()=>[ce]),_:2},1032,["onClick"])):(i(),F(w,{key:1,class:"cancelButton",onClick:M=>B(o.id)},{default:l(()=>[re]),_:2},1032,["onClick"]))])])]),_:2},1024)]),_:2},1024))),128))]),_:1}),e("div",de,[c(b,{locale:h(A)},{default:l(()=>[c(P,{onSizeChange:k,onCurrentChange:z,"current-page":h(E),"page-sizes":[10,20,50],"page-size":h(g),total:h(C),layout:"total, sizes, prev, pager, next, jumper"},null,8,["current-page","page-size","total"])]),_:1},8,["locale"])])])])])}}},ge=j(pe,[["__scopeId","data-v-4e29b307"]]);export{ge as default};
