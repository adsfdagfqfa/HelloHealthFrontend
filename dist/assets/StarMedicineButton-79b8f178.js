import{_ as n,E as s,C as d,i as a,o,c,k as r,F as m}from"./index-96eb2e51.js";import{g as f}from"./global-65bc9685.js";const u={props:["collected","medicine_id"],emits:["fatherUpdate"],watch:{collected:function(e){this.isCollected=e,console.log(e)}},data:()=>({isCollected:!1}),created(){console.log(this.medicine_id),this.isCollected=this.collected,console.log(this.isCollected)},methods:{Collect(){if(!f.login){s.warning("请先登录！");return}d.prompt("请输入您对药品的收藏备注","收藏备注",{confirmButtonText:"确定",cancelButtonText:"取消"}).then(({value:e})=>{console.log(this.medicine_id),a.post("/api/Medicine/addCollection",{medicine_id:this.medicine_id,memory:e}).then(t=>{this.isCollected=!0,s({message:"收藏药品成功！",type:"success"}),this.$emit("fatherUpdate")}).catch(t=>{if(t.network)return!1;switch(t.errorCode){default:t.defaultHandler("收藏失败")}})})},unCollect(){a.post("/api/Medicine/removeCollection",{medicine_id:this.medicine_id}).then(e=>{this.isCollected=!1,s({message:"取消收藏药品成功！",type:"success"}),this.$emit("fatherUpdate")}).catch(e=>{if(e.network)return!1;switch(e.errorCode){default:e.defaultHandler("取消收藏失败")}})}}};function C(e,t,h,p,g,l){return o(),c(m,null,[e.isCollected?r("",!0):(o(),c("i",{key:0,class:"fi fi-rr-star",style:{color:"var(--el-color-primary)"},onClick:t[0]||(t[0]=(...i)=>l.Collect&&l.Collect(...i))})),e.isCollected?(o(),c("i",{key:1,class:"fi fi-sr-star",style:{color:"var(--el-color-primary)"},onClick:t[1]||(t[1]=(...i)=>l.unCollect&&l.unCollect(...i))})):r("",!0)],64)}const y=n(u,[["render",C]]);export{y as S};
