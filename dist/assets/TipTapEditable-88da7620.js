import{_ as u,o as l,c,p as _,d as f,a as t,i as v,E as a,r as g,n as r,k as h,b as m,F as I}from"./index-96eb2e51.js";import{a as B,b as k,S as b,I as C}from"./index-831f4d1c.js";const y={},x=i=>(_("data-v-7d4f5c25"),i=i(),f(),i),w={class:"writeFloorButton"},E=x(()=>t("i",{class:"fi fi-sr-feather"},null,-1)),A=[E];function S(i,e){return l(),c("div",w,A)}const R=u(y,[["render",S],["__scopeId","data-v-7d4f5c25"]]);const T={components:{EditorContent:B},data(){return{editor:null}},expose:["editor"],mounted(){this.editor=new k({extensions:[b,C],content:""})},methods:{uploadImage(){const i=new FormData;this.$refs.fileInput.files.length!==0&&(i.append("image",this.$refs.fileInput.files[0]),v.post("/api/Forum/ImgUpload",i,{headers:{"Content-Type":"multipart/form-data"}}).then(e=>{this.editor.chain().focus().setImage({src:e.json.url}).run(),this.$refs.fileInput.value="",a.success("图片上传成功，请等待图片加载。")}).catch(e=>{if(!e.network){switch(e.errorCode){case 115:a.error("图片上传失败，请联系管理员！"),this.$refs.fileInput.value="";break;default:e.defaultHandler()}this.$refs.fileInput.value=""}}))}},beforeUnmount(){this.editor.destroy()}},n=i=>(_("data-v-d0854466"),i=i(),f(),i),F={key:0,class:"buttonHolder"},$=n(()=>t("i",{class:"fi fi-rr-bold centerIcon"},null,-1)),H=[$],U=n(()=>t("i",{class:"fi fi-rr-italic centerIcon"},null,-1)),q=[U],N=n(()=>t("i",{class:"fi fi-rr-h1 centerIcon"},null,-1)),V=[N],W=n(()=>t("i",{class:"fi fi-rr-h2 centerIcon"},null,-1)),j=[W],D=n(()=>t("i",{class:"fi fi-rr-list centerIcon"},null,-1)),L=[D],P=n(()=>t("i",{class:"fi fi-rr-quote-right centerIcon"},null,-1)),z=[P],K=n(()=>t("label",{class:"editorButton",for:"imgUploadInput"},[t("i",{class:"fi fi-rr-picture centerIcon"})],-1));function M(i,e,G,J,o,d){const p=g("editor-content");return l(),c(I,null,[o.editor?(l(),c("div",F,[t("div",{class:r(["editorButton",{"is-active":o.editor.isActive("bold")}]),onClick:e[0]||(e[0]=s=>o.editor.chain().focus().toggleBold().run())},H,2),t("div",{class:r(["editorButton",{"is-active":o.editor.isActive("italic")}]),onClick:e[1]||(e[1]=s=>o.editor.chain().focus().toggleItalic().run())},q,2),t("div",{class:r(["editorButton",{"is-active":o.editor.isActive("heading",{level:1})}]),onClick:e[2]||(e[2]=s=>o.editor.chain().focus().toggleHeading({level:1}).run())},V,2),t("div",{class:r(["editorButton",{"is-active":o.editor.isActive("heading",{level:2})}]),onClick:e[3]||(e[3]=s=>o.editor.chain().focus().toggleHeading({level:2}).run())},j,2),t("div",{class:r(["editorButton",{"is-active":o.editor.isActive("bulletList")}]),onClick:e[4]||(e[4]=s=>o.editor.chain().focus().toggleBulletList().run())},L,2),t("div",{class:r(["editorButton",{"is-active":o.editor.isActive("blockquote")}]),onClick:e[5]||(e[5]=s=>o.editor.chain().focus().toggleBlockquote().run())},z,2),K])):h("",!0),m(p,{editor:o.editor,class:"writableEditor"},null,8,["editor"]),t("input",{style:{display:"none"},type:"file",ref:"fileInput",id:"imgUploadInput",onChange:e[6]||(e[6]=(...s)=>d.uploadImage&&d.uploadImage(...s)),accept:"image/png, image/gif, image/jpeg"},null,544)],64)}const X=u(T,[["render",M],["__scopeId","data-v-d0854466"]]);export{X as T,R as W};
