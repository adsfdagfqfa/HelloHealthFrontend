import{_ as Y,r as f,o as a,g,w as t,p as G,d as H,a as s,i as y,E as I,c as m,b as l,k as h,F as C,h as d,l as z,t as _,R as T,S as E,U as R}from"./index-96eb2e51.js";import{P as Z}from"./PostCard-95793ffa.js";import{N as $}from"./NewsBlockList-49d0c570.js";import{g as S}from"./global-65bc9685.js";import{U as ee}from"./UserInfoCard-c27ee96e.js";import{_ as te}from"./thinking-a813cde7.js";import{_ as se}from"./杏仁币-2bdf5899.js";import"./CoinButton-41ecdd4d.js";const oe=i=>(G("data-v-0dff9dab"),i=i(),H(),i),le=oe(()=>s("span",{class:"iconWrapper"},[s("span",null,"查看原帖"),s("i",{class:"fi fi-rr-angle-small-right arrow centerIcon"})],-1)),ie={__name:"GoToPostLink",props:{post_id:Number,floor_number:Number},setup(i){const o=i,u=()=>{window.open(`${S.userWebsite}/forum/${o.post_id}?floor=${o.floor_number}`)};return(D,e)=>{const c=f("el-button");return a(),g(c,{class:"visitPostButton",round:"",onClick:u},{default:t(()=>[le]),_:1})}}},ne=Y(ie,[["__scopeId","data-v-0dff9dab"]]);const re={name:"UserInfoPage",components:{UserInfoCard:ee,NewsBlockList:$,PostCard:Z,GoToPostLink:ne},data(){return{isSelf:!0,isFollowed:!1,followMap:new Map,myFollowVisible:!1,followList:[],isFans:!1,myFansVisible:!1,fansList:[],certification:{},userInfo:{},userPosts:[],isLogin:!0,CoinRecordList:[],CoinNum:0,isLocked:!1,isEdit:!1,dialogVisible:!1,size:"large",file:null,doctorPic:null,businessPic:null,uploadedPhotos:0,photoUpload:!1,fileList:[],isCurrentUser:!1,reportList:[],reportCols:[{prop:"reportTime",label:"举报时间"},{prop:"reportRespondTime",label:"处理时间"},{prop:"reportStatus",label:"举报状态"}],statusMap:{0:"不通过",1:"成功",2:"审核中"}}},watch:{$route:{handler:function(i){if(console.log("watch"),!localStorage.getItem("userId")&&!S.login){this.$router.push("/login");return}this.refresh()},immediate:!0}},computed:{authenInfo(){return this.isLogin?"认证信息：":"未登录"},displayName(){return this.isLogin?this.userInfo.userName:"未登录"}},methods:{refresh(){this.fetchReport();let i=localStorage.getItem("userId");if(console.log(i),isNaN(i)){this.$router.replace("/error");return}const o=localStorage.getItem("userId");y.get("/userInfoService/user/getDetails?frontUserId="+i+"&sessionUserId="+o).then(u=>{const D=u.data.data.userInfo;this.userInfo=D,this.userInfo.gender!="男"&&this.userInfo.gender!="女"&&(this.userInfo.gender="男");const e=u.data.data.certification;this.certification=e,console.log(this.certification),this.followList=u.data.data.followList,this.isFollowed=u.data.data.isFollowed,console.log(this.isFollowed),this.followList.forEach(v=>{this.followMap.set(v.user_id,!0)}),this.isLocked=u.data.data.isLocked,this.fansList=u.data.data.fansList,this.fetchUserPosts(this.userInfo.userID);let c=i==0||i==S.userInfo.user_id;this.isCurrentUser=c,c&&(y.get("/api/HB/record").then(v=>{this.CoinRecordList=v.data.data.coinRecordList,this.CoinNum=v.data.data.coinNum}),this.fetchReport())}).catch(u=>{u.network||u.defaultHandler()})},goUserPage(i){this.$router.push("/user/"+i)},onFollowBtnClick(i){if(localStorage.getItem("userId")===null){I.error("请先登录!"),this.$router.push("/login");return}let o=this.followMap.get(i);this.isFollowed||o?this.unfollow(i):this.followUser(i)},unfollow(i){const o=localStorage.getItem("userId");i?y.post("/userInfoService/user/unfollowUser",{userId:o,followUserID:i}).then(u=>{this.followMap.set(i,!1),this.refresh()}).catch(u=>{u.network||u.defaultHandler()}):y.post("/userInfoService/user/unfollowUser",{userId:o,followUserID:this.userInfo.userID}).then(u=>{this.isFollowed=!1,this.refresh()}).catch(u=>{u.network||u.defaultHandler()})},followUser(i){const o=localStorage.getItem("userId");i?y.post("/userInfoService/user/followUser",{userId:o,followUserID:i}).then(u=>{this.followMap.set(i,!0),this.refresh()}).catch(u=>{u.network||u.defaultHandler()}):y.post("/userInfoService/user/followUser",{userId:o,followUserID:this.userInfo.userID}).then(u=>{this.isFollowed=!0,this.refresh()}).catch(u=>{u.network||u.defaultHandler()})},showPhotoUpload(){this.photoUpload=!0},goToLoginPage(){this.$router.push("login")},goToCoinDetail(){this.$router.push("/coinDetail")},showCertificationDialog(){this.dialogVisible=!0},edit(){this.isEdit=!0},save(){y.post("/userInfoService/user/modifyUserInfo",{gender:this.userInfo.gender,email:this.userInfo.email,birthday:this.userInfo.birthday,description:this.userInfo.description,userName:this.userInfo.userName,telephone:this.userInfo.telephone}).then(i=>{I.success("上传成功！"),this.isEdit=!1}).catch(i=>{this.isEdit=!1,console.error(i),I.error("上传失败！")})},handleChangeDoctor(i,o){console.log(i,o),console.log("医师资格证照片"),o.length>1&&o.splice(0,o.length-1),this.doctorPic=i.raw},handleChangeBusiness(i,o){console.log(i,o),console.log("执业证照片"),o.length>1&&o.splice(0,o.length-1),this.businessPic=i.raw},submitCertification(){const i=new FormData;this.doctorPic&&(console.log("que"),i.append("files",this.doctorPic)),this.businessPic&&(console.log("pra"),i.append("files",this.businessPic)),console.log(i);const o=localStorage.getItem("userId");i.append("userId",o),y.post("/userInfoService/user/uploadDoctorApproval",i).then(u=>{console.log(u.data),u.data.data.status==!0?(I.success("上传成功，请等待管理员审核！"),this.dialogVisible=!1):I.error("上传失败！")}).catch(u=>{console.error(u),I.error("上传失败！")})},handleChange(i,o){o.length>1&&o.splice(0,o.length-1),console.log(i,o),this.file=i.raw},submitPhoto(){const i=new FormData;i.append("file",this.file),y.post("/api/UserInfo/uploadAvatar",i).then(o=>{console.log(o.data),o.data.data.status==!0?(I.success("更改成功！"),this.photoUpload=!1,this.userInfo.avatarUrl=o.data.data.url,S.userInfo.avatar_url=o.data.data.url):I.error("更改失败！")}).catch(o=>{console.log(o),I.error("更改失败！")})},fetchUserPosts(i){y.post("/userInfoService/user/fetchUserPosts",{user_id:localStorage.getItem("userId")}).then(o=>{this.userPosts=o.data.data.post_list})},fetchReport(){const i=localStorage.getItem("userId");y.get("/userInfoService/user/Report?userId="+i).then(o=>{this.reportList=o.data.data.reportList,console.log(this.reportList)})}}},r=i=>(G("data-v-2c7f0127"),i=i(),H(),i),ae={class:"wrapper"},ue={class:"common-layout"},de={class:"avatar-container"},ce={style:{"text-align":"center"}},pe=r(()=>s("p",null,"请上传头像",-1)),fe=r(()=>s("div",{slot:"tip",class:"el-upload__tip"},"上传文件格式为.jpg、.jpeg、.png、.gif，且不超过 2MB ",-1)),_e={slot:"footer",class:"dialog-footer"},he={class:"user-cards"},ge={class:"user-info"},me={class:"user-cards"},ye={class:"user-info"},be={key:0,class:"state-locked"},Ie={class:"userName"},ke=r(()=>s("br",null,null,-1)),ve=r(()=>s("br",null,null,-1)),we={style:{"font-size":"x-large","font-weight":"1000"}},Ce={style:{"font-size":"x-large","font-weight":"1000"}},Ue=r(()=>s("br",null,null,-1)),xe=r(()=>s("br",null,null,-1)),Ve={key:0},Le={key:1},Pe={key:3},ze={style:{"text-align":"center"}},Se=r(()=>s("p",null,"请上传您的医师资格证照片和执业证照片",-1)),De=r(()=>s("br",null,null,-1)),je=r(()=>s("br",null,null,-1)),Fe=r(()=>s("div",{slot:"tip",class:"el-upload__tip"},"上传文件格式为.jpg、.jpeg、.png、.gif，且不超过 2MB ",-1)),Ne=r(()=>s("br",null,null,-1)),Me=r(()=>s("br",null,null,-1)),Be=r(()=>s("div",{slot:"tip",class:"el-upload__tip"},"上传文件格式为.jpg、.jpeg、.png、.gif，且不超过 2MB ",-1)),Te={slot:"footer",class:"dialog-footer"},Ee={key:0},Re=r(()=>s("div",{class:"cell-item"}," 用户名： ",-1)),Ye={class:"input-container"},Ge=r(()=>s("div",{class:"highlight"},null,-1)),He=r(()=>s("div",{class:"cell-item"}," 性别： ",-1)),qe=r(()=>s("div",{class:"cell-item"}," 生日： ",-1)),Ae=r(()=>s("div",{class:"cell-item"}," 联系电话： ",-1)),We={class:"input-container"},Oe=r(()=>s("div",{class:"highlight"},null,-1)),Je=r(()=>s("div",{class:"cell-item"}," 邮箱地址： ",-1)),Ke={class:"input-container"},Qe=["disabled"],Xe=r(()=>s("div",{class:"highlight"},null,-1)),Ze=r(()=>s("div",{class:"cell-item"}," 个人简介： ",-1)),$e={class:"input-container"},et=["disabled"],tt=r(()=>s("div",{class:"highlight"},null,-1)),st={key:1},ot={style:{"text-align":"center"}},lt=r(()=>s("p",null,"请上传您的医师资格证照片和执业证照片",-1)),it=r(()=>s("br",null,null,-1)),nt=r(()=>s("br",null,null,-1)),rt=r(()=>s("div",{slot:"tip",class:"el-upload__tip"},"上传文件格式为.jpg、.jpeg、.png、.gif，且不超过 2MB ",-1)),at=r(()=>s("br",null,null,-1)),ut=r(()=>s("br",null,null,-1)),dt=r(()=>s("div",{slot:"tip",class:"el-upload__tip"},"上传文件格式为.jpg、.jpeg、.png、.gif，且不超过 2MB ",-1)),ct={slot:"footer",class:"dialog-footer"},pt=r(()=>s("div",{class:"cell-item"}," 职称： ",-1)),ft=r(()=>s("div",{class:"cell-item"}," 科室： ",-1)),_t=r(()=>s("div",{class:"cell-item"}," 医院等级： ",-1)),ht=r(()=>s("div",{class:"cell-item"}," 认证时间： ",-1)),gt={key:2},mt={style:{"font-size":"x-large","font-weight":"1000"}},yt={key:0,class:"tips"},bt=r(()=>s("img",{class:"sadImg jello-horizontal",style:{height:"256px"},alt:"",src:te},null,-1)),It=r(()=>s("div",{class:"sadTip jello-horizontal"},"暂时还没有发布的帖子哦~快去发布吧！",-1)),kt=[bt,It],vt=r(()=>s("span",{style:{"font-size":"16px","font-weight":"bold"}},"我的杏仁币",-1)),wt=r(()=>s("img",{src:se,style:{width:"60px",height:"60%","margin-left":"15px","margin-top":"2%"}},null,-1)),Ct={style:{color:"RGB(0,191,168)","font-size":"20px","padding-left":"15px","margin-top":"6%"}},Ut=r(()=>s("div",{style:{"font-size":"16px","font-weight":"bold","padding-right":"5px"}},"硬币记录",-1)),xt=r(()=>s("div",{style:{"font-size":"15px",color:"grey","margin-left":"3px","margin-top":"1px"}}," 您最近一周的变化情况 ",-1)),Vt={key:0},Lt={key:1};function Pt(i,o,u,D,e,c){const v=f("el-avatar"),p=f("el-button"),U=f("el-upload"),x=f("el-dialog"),F=f("UserInfoCard"),k=f("el-card"),q=f("el-aside"),A=f("el-divider"),W=f("el-main"),O=f("el-container"),b=f("el-descriptions-item"),N=f("el-tag"),M=f("el-option"),J=f("el-select"),K=f("el-date-picker"),V=f("el-descriptions"),Q=f("PostCard"),j=f("el-col"),L=f("el-row"),P=f("el-table-column"),B=f("el-table"),X=f("GoToPostLink");return a(),m("div",ae,[s("div",null,[l(k,{class:"cardStyle"},{default:t(()=>[s("div",ue,[l(O,null,{default:t(()=>[l(q,{width:"200px"},{default:t(()=>[s("div",de,[l(v,{size:100,style:{"margin-left":"30px","margin-top":"20px"},fit:"contain",src:e.isLogin?e.userInfo.avatarUrl:require("/static/defaultAvatar.png")},null,8,["src"]),e.isCurrentUser?(a(),m(C,{key:0},[l(p,{class:"pic-edit-button",type:"primary",icon:"el-icon-edit",onClick:c.showPhotoUpload},{default:t(()=>[d("Edit ")]),_:1},8,["onClick"]),l(x,{modelValue:e.photoUpload,"onUpdate:modelValue":o[1]||(o[1]=n=>e.photoUpload=n),title:"头像上传",width:"50%"},{default:t(()=>[s("div",ce,[pe,l(U,{class:"upload-demo",action:"https://jsonplaceholder.typicode.com/posts/","auto-upload":!1,"on-change":c.handleChange,accept:"image/jpg,image/jpeg,image/png,image/gif",multiple:!1,"file-list":e.fileList},{default:t(()=>[l(p,{slot:"trigger",size:"small",type:"primary"},{default:t(()=>[d("选取文件 ")]),_:1}),fe]),_:1},8,["on-change","file-list"])]),s("div",_e,[l(p,{onClick:o[0]||(o[0]=n=>e.photoUpload=!1)},{default:t(()=>[d("取 消")]),_:1}),l(p,{type:"primary",onClick:c.submitPhoto},{default:t(()=>[d("确 定")]),_:1},8,["onClick"])])]),_:1},8,["modelValue"]),l(x,{title:"我的关注",modelValue:e.myFollowVisible,"onUpdate:modelValue":o[2]||(o[2]=n=>e.myFollowVisible=n),onClose:c.refresh},{default:t(()=>[s("div",he,[(a(!0),m(C,null,z(e.followList,n=>(a(),g(k,{class:"user-card",key:n},{default:t(()=>[s("div",ge,[l(F,{"user-info":n,onClick:w=>c.goUserPage(n.user_id)},null,8,["user-info","onClick"]),l(p,{type:e.followMap.get(n.user_id)?"default":"primary",style:{margin:"20px"},onClick:w=>c.onFollowBtnClick(n.user_id)},{default:t(()=>[d(_(e.followMap.get(n.user_id)?"已关注":"+ 关注"),1)]),_:2},1032,["type","onClick"])])]),_:2},1024))),128))])]),_:1},8,["modelValue","onClose"]),l(x,{title:"我的粉丝",modelValue:e.myFansVisible,"onUpdate:modelValue":o[3]||(o[3]=n=>e.myFansVisible=n),onClose:c.refresh},{default:t(()=>[s("div",me,[(a(!0),m(C,null,z(e.fansList,n=>(a(),g(k,{class:"user-card",key:n.user_id},{default:t(()=>[s("div",ye,[l(F,{"user-info":n,onClick:w=>c.goUserPage(n.user_id)},null,8,["user-info","onClick"]),l(p,{type:e.followMap.get(n.user_id)?"default":"primary",style:{margin:"20px"},onClick:w=>c.onFollowBtnClick(n.user_id)},{default:t(()=>[d(_(e.followMap.get(n.user_id)?"已关注":"+ 关注"),1)]),_:2},1032,["type","onClick"])])]),_:2},1024))),128))])]),_:1},8,["modelValue","onClose"])],64)):h("",!0)]),e.isLocked?(a(),m("p",be,"用户状态：已被封禁！")):h("",!0)]),_:1}),l(W,null,{default:t(()=>[s("span",Ie,_(c.displayName),1),e.isLogin?h("",!0):(a(),g(p,{key:0,class:"login-button",type:"primary",onClick:c.goToLoginPage},{default:t(()=>[d(" 请登录 ")]),_:1},8,["onClick"])),e.isLogin&&!e.isCurrentUser?(a(),g(p,{key:1,type:e.isFollowed?"default":"primary",style:{"margin-left":"40px","margin-bottom":"10px"},onClick:o[4]||(o[4]=n=>c.onFollowBtnClick(null))},{default:t(()=>[d(_(e.isFollowed?"已关注":"+ 关注"),1)]),_:1},8,["type"])):e.isLogin&&e.isCurrentUser?(a(),g(p,{key:2,style:{"border-color":"rgb(0,191,168)"},class:"attention-list",onClick:o[5]||(o[5]=n=>this.myFollowVisible=!0)},{default:t(()=>[d("我的关注 ")]),_:1})):h("",!0),e.isLogin&&e.isCurrentUser?(a(),g(p,{key:3,style:{"border-color":"rgb(0,191,168)"},class:"attention-list",onClick:o[6]||(o[6]=n=>this.myFansVisible=!0)},{default:t(()=>[d("我的粉丝 ")]),_:1})):h("",!0),ke,ve,s("span",we,_(e.followList.length),1),d(" 关注 "),l(A,{style:{"font-size":"xx-large"},direction:"vertical"}),d("  "),s("span",Ce,_(e.fansList.length),1),d(" 粉丝 "),Ue,xe,s("div",null,[s("span",null,_(c.authenInfo),1),e.isLogin?(a(),m(C,{key:0},[!e.isCurrentUser&&!e.userInfo.isCertified?(a(),m("span",Ve,_("未认证"))):e.userInfo.isCertified?(a(),m("span",Le,_(e.certification.professionTitle),1)):e.isCurrentUser&&!e.userInfo.isCertified?(a(),g(p,{key:2,class:"certificated-button",onClick:c.showCertificationDialog},{default:t(()=>[d("去认证 ")]),_:1},8,["onClick"])):(a(),m("span",Pe,_("未认证"))),l(x,{modelValue:e.dialogVisible,"onUpdate:modelValue":o[8]||(o[8]=n=>e.dialogVisible=n),title:"医师认证",width:"50%"},{default:t(()=>[s("div",ze,[Se,De,je,l(U,{class:"upload-demo",action:"https://jsonplaceholder.typicode.com/posts/","auto-upload":!1,"on-change":c.handleChangeDoctor,multiple:!1,"file-list":e.fileList,accept:"image/jpg,image/jpeg,image/png,image/gif"},{default:t(()=>[l(p,{slot:"trigger",size:"small",type:"primary"},{default:t(()=>[d("选取文件 ")]),_:1}),Fe,Ne,Me]),_:1},8,["on-change","file-list"]),l(U,{class:"upload-demo",action:"https://jsonplaceholder.typicode.com/posts/","auto-upload":!1,"on-change":c.handleChangeBusiness,multiple:!1,"file-list":e.fileList,accept:"image/jpg,image/jpeg,image/png,image/gif"},{default:t(()=>[l(p,{slot:"trigger",size:"small",type:"primary"},{default:t(()=>[d("选取文件 ")]),_:1}),Be]),_:1},8,["on-change","file-list"])]),s("div",Te,[l(p,{onClick:o[7]||(o[7]=n=>e.dialogVisible=!1)},{default:t(()=>[d("取 消")]),_:1}),l(p,{type:"primary",onClick:c.submitCertification},{default:t(()=>[d("确 定")]),_:1},8,["onClick"])])]),_:1},8,["modelValue"])],64)):h("",!0)])]),_:1})]),_:1})])]),_:1})]),e.isLogin?(a(),m("div",Ee,[l(k,{class:"cardStyle"},{default:t(()=>[l(V,{class:"margin-top",title:"基本信息",column:3,size:e.size,border:""},T({default:t(()=>[s("template",null,[l(b,null,{label:t(()=>[Re]),default:t(()=>[s("div",Ye,[s("span",null,_(e.userInfo.userName),1),Ge])]),_:1}),l(b,null,{label:t(()=>[He]),default:t(()=>[e.isEdit?h("",!0):(a(),g(N,{key:0,class:"input"},{default:t(()=>[d(_(e.userInfo.gender),1)]),_:1})),e.isEdit?(a(),g(J,{key:1,modelValue:e.userInfo.gender,"onUpdate:modelValue":o[9]||(o[9]=n=>e.userInfo.gender=n)},{default:t(()=>[l(M,{label:"男",value:"男"}),l(M,{label:"女",value:"女"})]),_:1},8,["modelValue"])):h("",!0)]),_:1}),l(b,null,{label:t(()=>[qe]),default:t(()=>[e.isEdit?h("",!0):(a(),g(N,{key:0,class:"input"},{default:t(()=>[d(_(e.userInfo.birthday),1)]),_:1})),e.isEdit?(a(),g(K,{key:1,modelValue:e.userInfo.birthday,"onUpdate:modelValue":o[10]||(o[10]=n=>e.userInfo.birthday=n),type:"date",formate:"YYYY/MM/DD","value-format":"YYYY-MM-DD",placeholder:"选择日期"},null,8,["modelValue"])):h("",!0)]),_:1}),e.isCurrentUser?(a(),g(b,{key:0},{label:t(()=>[Ae]),default:t(()=>[s("div",We,[s("span",null,_(e.userInfo.telephone),1),Oe])]),_:1})):h("",!0),l(b,null,{label:t(()=>[Je]),default:t(()=>[s("div",Ke,[s("div",null,[E(s("input",{type:"text",name:"text",class:"input",placeholder:"请输入邮箱地址","onUpdate:modelValue":o[11]||(o[11]=n=>e.userInfo.email=n),disabled:!e.isEdit},null,8,Qe),[[R,e.userInfo.email]]),Xe])])]),_:1}),l(b,null,{label:t(()=>[Ze]),default:t(()=>[s("div",$e,[E(s("input",{type:"text",name:"text",class:"input",placeholder:"请输入简介","onUpdate:modelValue":o[12]||(o[12]=n=>e.userInfo.description=n),disabled:!e.isEdit},null,8,et),[[R,e.userInfo.description]]),tt])]),_:1})])]),_:2},[e.isCurrentUser?{name:"extra",fn:t(()=>[e.isEdit?h("",!0):(a(),g(p,{key:0,type:"primary",onClick:c.edit},{default:t(()=>[d("编辑")]),_:1},8,["onClick"])),e.isEdit?(a(),g(p,{key:1,type:"primary",onClick:c.save},{default:t(()=>[d("保存")]),_:1},8,["onClick"])):h("",!0)]),key:"0"}:void 0]),1032,["size"])]),_:1})])):h("",!0),e.userInfo.isCertified&&e.isLogin?(a(),m("div",st,[l(k,{class:"cardStyle"},{default:t(()=>[l(V,{class:"margin-top",title:"医师信息",column:3,size:e.size,border:""},T({default:t(()=>[l(b,null,{label:t(()=>[pt]),default:t(()=>[d(_(e.certification.professionTitle),1)]),_:1}),l(b,null,{label:t(()=>[ft]),default:t(()=>[d(_(e.certification.department),1)]),_:1}),l(b,null,{label:t(()=>[_t]),default:t(()=>[d(_(e.certification.hospital_rank),1)]),_:1}),l(b,null,{label:t(()=>[ht]),default:t(()=>[d(_(e.certification.date),1)]),_:1})]),_:2},[e.isCurrentUser?{name:"extra",fn:t(()=>[l(p,{type:"primary",onClick:o[13]||(o[13]=n=>e.dialogVisible=!0)},{default:t(()=>[d("编辑")]),_:1}),l(x,{modelValue:e.dialogVisible,"onUpdate:modelValue":o[15]||(o[15]=n=>e.dialogVisible=n),title:"医师认证",width:"50%"},{default:t(()=>[s("div",ot,[lt,it,nt,l(U,{class:"upload-demo",action:"https://jsonplaceholder.typicode.com/posts/","auto-upload":!1,"on-change":c.handleChangeDoctor,multiple:!1,"file-list":e.fileList,accept:"image/jpg,image/jpeg,image/png,image/gif"},{default:t(()=>[l(p,{slot:"trigger",size:"small",type:"primary"},{default:t(()=>[d("选取文件")]),_:1}),rt,at,ut]),_:1},8,["on-change","file-list"]),l(U,{class:"upload-demo",action:"https://jsonplaceholder.typicode.com/posts/","auto-upload":!1,"on-change":c.handleChangeBusiness,multiple:!1,"file-list":e.fileList,accept:"image/jpg,image/jpeg,image/png,image/gif"},{default:t(()=>[l(p,{slot:"trigger",size:"small",type:"primary"},{default:t(()=>[d("选取文件")]),_:1}),dt]),_:1},8,["on-change","file-list"])]),s("div",ct,[l(p,{onClick:o[14]||(o[14]=n=>e.dialogVisible=!1)},{default:t(()=>[d("取 消")]),_:1}),l(p,{type:"primary",onClick:c.submitCertification},{default:t(()=>[d("确 定")]),_:1},8,["onClick"])])]),_:1},8,["modelValue"])]),key:"0"}:void 0]),1032,["size"])]),_:1})])):h("",!0),e.isLogin?(a(),m("div",gt,[l(k,{class:"cardStyle"},{default:t(()=>[l(V,{class:"margin-top",title:e.isCurrentUser?"我的发布":"ta的发布",column:3,size:e.size,border:""},{extra:t(()=>[s("span",mt,_(e.userPosts.length),1),d(" 发布 ")]),_:1},8,["title","size"]),e.userPosts.length===0?(a(),m("div",yt,kt)):h("",!0),e.userPosts?(a(),g(L,{key:1},{default:t(()=>[(a(!0),m(C,null,z(e.userPosts,n=>(a(),g(j,{span:8,key:n},{default:t(()=>[l(Q,{post_info:n,style:{"margin-left":"10%","margin-right":"10%","margin-bottom":"15%"}},null,8,["post_info"])]),_:2},1024))),128))]),_:1})):h("",!0)]),_:1})])):h("",!0),s("div",null,[e.isLogin&&e.isCurrentUser?(a(),g(k,{key:0,class:"cardStyle"},{default:t(()=>[l(L,null,{default:t(()=>[l(j,{span:12},{default:t(()=>[l(L,{style:{"align-items":"center",display:"flex"}},{default:t(()=>[l(V,{column:3,size:e.size,border:"","margin-top":"5px"},null,8,["size"]),vt,e.isLogin?(a(),g(p,{key:0,class:"coinButton",link:"",onClick:c.goToCoinDetail,style:{"font-size":"14px"}},{default:t(()=>[d(" 杏仁币详情>> ")]),_:1},8,["onClick"])):h("",!0)]),_:1}),l(L,{style:{"margin-top":"7%","margin-left":"5%"}},{default:t(()=>[wt,s("div",Ct," x "+_(e.CoinNum)+" 枚 ",1)]),_:1})]),_:1}),l(j,{span:12},{default:t(()=>[l(L,{style:{"margin-left":"1%","margin-bottom":"2%","margin-top":"3.5%"}},{default:t(()=>[Ut,xt]),_:1}),l(B,{data:e.CoinRecordList,"default-sort":{prop:"Time",order:"ascending"},height:"150",style:{width:"100%"},class:"table","empty-text":"您暂时没有杏仁币记录~"},{default:t(()=>[l(P,{prop:"Time",label:"时间",width:"150"}),l(P,{prop:"Num",label:"变化",width:"120"}),l(P,{prop:"Reason",label:"原因",width:"150"})]),_:1},8,["data"])]),_:1})]),_:1})]),_:1})):h("",!0)]),s("div",null,[e.isLogin&&e.isCurrentUser?(a(),g(k,{key:0,class:"cardStyle"},{default:t(()=>[l(V,{class:"margin-top clickable",title:"我的举报",column:3,size:e.size,border:""},null,8,["size"]),l(B,{data:e.reportList,height:"250",class:"table","empty-text":"暂无您的举报记录~"},{default:t(()=>[(a(!0),m(C,null,z(e.reportCols,n=>(a(),g(P,{key:n.label,label:n.label},{default:t(w=>[n.prop==="report_status"?(a(),m("span",Vt,_(e.statusMap[w.row.report_status]),1)):(a(),m("span",Lt,_(w.row[n.prop]),1))]),_:2},1032,["label"]))),128)),l(P,{label:"操作"},{default:t(n=>[l(X,{floor_number:n.row.floor_number,post_id:n.row.post_id},null,8,["floor_number","post_id"])]),_:1})]),_:1},8,["data"])]),_:1})):h("",!0)])])}const Tt=Y(re,[["render",Pt],["__scopeId","data-v-2c7f0127"]]);export{Tt as default};
